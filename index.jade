doctype html
html(lang="en")
	head
		title Random Dilbert Comics
		style(type="text/css").
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
				font-family: Verdana, sans-serif;
			}
			.wrap {
				margin: 0 auto;
				max-width: 68em;
				width: 100%;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
			p {
				text-align: center;
			}
			img {
				width: 100%;
			}
			.link-wrap {
				text-align: center;
			}
			a, button {
				display: inline-block;
				background-color: #2D3E50;
				border: none;
				padding: 15px;
				width: 200px;
				color: #fff;
				text-align: center;
				margin: 10px;
				border-radius: 5px;
				text-decoration: none;
				letter-spacing: 1px;
				font-size: 16px;
				outline: none;
			}
	body
		.wrap
			p= pageTitle
			img(src=imageSrc)
			.link-wrap
				button New Comic
				a(href="http://dilbert.com/strip/" + link target="_blank") Permalink
		script(type="text/javascript").
			var btn = document.querySelector('button');
			btn.onclick = function() {
				btn.disabled = true;
				request = new XMLHttpRequest();
				request.onreadystatechange = function() {
					if (request.readyState === 4 && request.status === 200) {
						document.querySelector('img').src = request.responseText;
						btn.disabled = false;
					}
				}
				request.open("GET","get.json",true);
				request.send();
			}
